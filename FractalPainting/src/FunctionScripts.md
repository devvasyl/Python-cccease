# DrawFractal.py 说明文档

- [DrawFractal.py 说明文档](#drawfractalpy-%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3)
  - [依赖库](#%E4%BE%9D%E8%B5%96%E5%BA%93)
  - [数据结构](#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84)
  - [函数](#%E5%87%BD%E6%95%B0)
    - [Julia集的绘制](#julia%E9%9B%86%E7%9A%84%E7%BB%98%E5%88%B6)
    - [Mandelbrot集的绘制](#mandelbrot%E9%9B%86%E7%9A%84%E7%BB%98%E5%88%B6)
    - [分形叶的绘制](#%E5%88%86%E5%BD%A2%E5%8F%B6%E7%9A%84%E7%BB%98%E5%88%B6)
    - [L系统分形图的绘制](#l%E7%B3%BB%E7%BB%9F%E5%88%86%E5%BD%A2%E5%9B%BE%E7%9A%84%E7%BB%98%E5%88%B6)

`DrawFractal.py`作为本项目的核心代码，实现了基础的分形图像绘制。本文档旨在说明该文件的部分内容的意义及作用。

## 依赖库

- **numpy**
- **math**
- **matplotlib**

## 数据结构

- **p_array[ ]**：绘制分形叶片时所用到的四个函数被选择的概率。
- **func_array[ ]**：绘制分形叶片时所用到的四个函数，转化为矩阵形式。
- **rules[ ]**：`L系统`迭代规则列表，内部包含迭代规则，旋转角度，初始方向等信息。

## 函数

### Julia集的绘制

- ```python
  def get_Julia(x0, x1, y0, y1, c, n, m)
  ```

这个函数的作用是进行迭代，迭代方程为：

$ z=z^m+c\space $ 其中`z`和`c`都是复数。
  
各参数意义如下：

- **x0**: 图片横坐标`min`
- **x1**: 图片横坐标`max`
- **y0**: 图片纵坐标`min`
- **y0**: 图片纵坐标`max`
- **c**:  迭代方程中`c`的值
- **n**:  迭代的最大次数及分辨率
- **m**:  迭代方程中`z`的指数

返回值：在给定c的情况下，指定范围内所有点的迭代收敛次数，是一个数组，可用作绘图的色深值。

- ```python
  def draw_Julia(n=512, c=0.400, cx=0.0, cy=0.0, d=1.5)
  ```

这个函数的作用是绘制朱丽叶集，迭代方程中的指数固定为`3`。各参数意义如下：

- **n**:  迭代的最大次数及分辨率
- **c**:  迭代方程中`c`的值
- **cx**: 图像的中心点`x`坐标
- **cy**: 图像的中心点`y`坐标
- **d**:  以`(cx,cy)`为中心，向外拓展的长度

无返回值，调用它可直接绘制图像，但是需要在外部使用`pl.show()`显示。

- ```python
  def draw_Julia_1(a=0.0, cx=0.0, cy=0.0, d=1.5)
  ```

这个函数的作用是绘制朱丽叶集，迭代方程中的指数固定为`2`，迭代次数固定为`256`。各参数意义如下：

- **a**:  迭代方程中`c`的**实部值**，虚部固定为`0`
- **cx**: 图像的中心点`x`坐标
- **cy**: 图像的中心点`y`坐标
- **d**:  以`(cx,cy)`为中心，向外拓展的长度

无返回值，调用它可直接绘制图像，但是需要在外部使用`pl.show()`显示。

- ```python
  def draw_Julia_2(b=0.0, cx=0.0, cy=0.0, d=1.5)
  ```

这个函数的作用是绘制朱丽叶集，迭代方程中的指数固定为`2`，迭代次数固定为`256`。各参数意义如下：

- **b**:  迭代方程中`c`的**虚部值**，实部固定为`0`
- **cx**: 图像的中心点`x`坐标
- **cy**: 图像的中心点`y`坐标
- **d**:  以`(cx,cy)`为中心，向外拓展的长度

无返回值，调用它可直接绘制图像，但是需要在外部使用`pl.show()`显示。

### Mandelbrot集的绘制

- ```python
  def get_Mandelbrot(x0, x1, y0, y1, n, m)
  ```

这个函数的作用是进行迭代，迭代方程为：

$ z=z^m+c\space $ 其中`z`和`c`都是复数，`z`的初始值为`0`。
  
各参数意义如下：

- **x0**: 图片横坐标`min`
- **x1**: 图片横坐标`max`
- **y0**: 图片纵坐标`min`
- **y0**: 图片纵坐标`max`
- **n**:  迭代的最大次数及分辨率
- **m**:  迭代方程中`z`的指数

返回值：在指定范围的复平面上所有点作为`c`的值时，迭代方程的迭代收敛次数，是一个数组，可用作绘图的色深值。

- ```python
  def draw_Mandelbrot(n=512, cx=-0.5, cy=0.0, d=1.5)
  ```

这个函数的作用是绘制曼德勃罗集，迭代方程中的指数固定为`2`。各参数意义如下：

- **n**:  迭代次数及分辨率
- **c**:  迭代方程中`c`的值
- **cx**: 图像的中心点`x`坐标
- **cy**: 图像的中心点`y`坐标
- **d**:  以`(cx,cy)`为中心，向外拓展的长度

无返回值，调用它可直接绘制图像，但是需要在外部使用`pl.show()`显示。

- ```python
  def draw_Mandelbrot_(n=2, cx=0.0, cy=0.0, d=1.5)
  ```

这个函数的作用是绘制曼德勃罗集，迭代的最大次数固定为`256`。各参数意义如下：

- **n**:  迭代方程中`z`的指数
- **c**:  迭代方程中`c`的值
- **cx**: 图像的中心点`x`坐标
- **cy**: 图像的中心点`y`坐标
- **d**:  以`(cx,cy)`为中心，向外拓展的长度

无返回值，调用它可直接绘制图像，但是需要在外部使用`pl.show()`显示。

### 分形叶的绘制

- ```python
  def get_LeafDots(p, func, init, n)
  ```

这个函数的作用是获取分形叶片绘制的点集，在迭代过程中，每次依概率分布`p`选择函数`func`进行迭代，计算`x`，`y`坐标。各参数意义如下：

- **p**: 四个函数的概率分布
- **func**: 迭代函数列表
- **init**: 迭代初始点
- **n**:  迭代次数

返回值是生成的点集，是两个数组。

- ```python
  def draw_Leaf(n=150000)
  ```

这个函数的作用是绘制分形叶片绘制的点集，`init`固定为`(0,0)`，`p`和`func`分别由`p_array`及`func_array`指定。该函数的参数意义如下：

- **n**:  迭代次数

无返回值，调用它可直接绘制图像，但是需要在外部使用`pl.show()`显示。

### L系统分形图的绘制

还有一种分形图的绘制方式就是充分利用分形的递归性，形式化定义迭代字符串，然后利用该字符串生成边信息，最后绘制图像。

- ```python
  def get_lines(rule, n)
  ```

这个函数的作用是根据一定的规则获取L系统构造的分形图的边信息。各参数意义如下：

- **rule**: 迭代规则
- **n**:  迭代次数

返回值是生成的边集，是一个数组。

- ```python
  def draw_Koch(n=9)        # 绘制科赫雪花
  def draw_Dragon(n=18)     # 绘制分形龙
  def draw_Triangle(n=12)   # 绘制谢尔宾斯基三角
  def draw_Plant(n=9)       # 绘制分形树
  def draw_Hilbert(n=7)     # 绘制希尔伯特曲线
  def draw_Square(n=14)     # 绘制谢尔宾斯基正方形
  ```

上述函数均是调用`get_lines()`，传递迭代次数，绘制对应的分形图。这些函数均无返回值，调用它们可直接绘制图像，但是需要在外部使用`pl.show()`显示。
